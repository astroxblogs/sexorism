"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[324],{6324:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var a=r(5043),s=r(3216),n=r(6200),o=r(4117),i=r(4544),l=r(4505),c=r(9379),d=r(9722);const m=(e,t)=>{const[r,s]=(0,a.useState)(t||null),[n,o]=(0,a.useState)(!t),[i,l]=(0,a.useState)(null),m=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{if(t)return s(t),void o(!1);const r=new AbortController;return e&&(async()=>{o(!0),l(null);try{let t=await d.A.get("/api/blogs/slug/".concat(e),{signal:r.signal});t.data||(console.warn('Blog not found by slug "'.concat(e,'", trying fallback by ID.')),t=await d.A.get("/api/blogs/".concat(e),{signal:r.signal})),t.data?s(t.data):l("Blog post not found.")}catch(t){if(d.A.isCancel(t))return;console.error("Failed to fetch blog post:",t),l("Failed to load blog post. Please try again later.")}finally{o(!1)}})(),()=>r.abort()},[e,t]),(0,a.useEffect)(()=>{if(null===r||void 0===r||!r._id||m.current)return;const e="viewed_blog_".concat(r._id),t=Date.now(),a=localStorage.getItem(e);if(a)try{const e=JSON.parse(a);if(e.expiry&&t<e.expiry)return void(m.current=!0)}catch(n){console.error("Failed to parse viewedData",n)}m.current=!0,d.A.patch("/api/blogs/".concat(r._id,"/views")).then(r=>{var a;void 0!==(null===(a=r.data)||void 0===a?void 0:a.views)&&s(e=>e?(0,c.A)((0,c.A)({},e),{},{views:r.data.views}):null),localStorage.setItem(e,JSON.stringify({expiry:t+432e5}))}).catch(e=>{console.error("Failed to increment views:",e),m.current=!1})},[null===r||void 0===r?void 0:r._id]),{blog:r,loading:n,error:i}};var u=r(5475),g=r(1591),x=r(7977),p=r(96),b=r(8214),h=r(3258),v=r(579);const y=e=>{let{showPopup:t,onClose:r,onSubscribeSuccess:s}=e;const[n,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[m,u]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[p,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>(t?(document.body.style.overflow="hidden",setTimeout(()=>b(!0),50)):(document.body.style.overflow="",b(!1)),()=>{document.body.style.overflow=""}),[t]);return t?(0,v.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-black/80 via-purple-900/50 to-black/80 flex items-center justify-center z-[1000] p-4 transition-all duration-500 ".concat(p?"backdrop-blur-md opacity-100":"backdrop-blur-none opacity-0"),role:"dialog","aria-modal":"true",style:{background:p?"radial-gradient(ellipse at center, rgba(99, 102, 241, 0.1) 0%, rgba(0, 0, 0, 0.8) 70%)":"transparent"},children:(0,v.jsxs)("div",{className:"bg-gradient-to-br from-white via-gray-50 to-white dark:from-gray-800 dark:via-gray-900 dark:to-gray-800 rounded-3xl shadow-2xl p-6 w-full max-w-[calc(100%-2rem)] sm:max-w-md md:max-w-lg relative border border-gray-200/50 dark:border-gray-700/50 transition-all duration-500 transform ".concat(p?"scale-100 translate-y-0 opacity-100":"scale-95 translate-y-4 opacity-0"),style:{boxShadow:p?"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 100px -20px rgba(99, 102, 241, 0.3)":"none"},children:[(0,v.jsxs)("div",{className:"absolute inset-0 rounded-3xl overflow-hidden pointer-events-none",children:[(0,v.jsx)("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-xl animate-pulse"}),(0,v.jsx)("div",{className:"absolute -bottom-10 -left-10 w-40 h-40 bg-gradient-to-br from-purple-400/20 to-pink-600/20 rounded-full blur-xl animate-pulse delay-1000"})]}),(0,v.jsx)("button",{onClick:()=>{b(!1),setTimeout(()=>{r&&r()},300)},className:"absolute top-4 right-4 w-10 h-10 bg-gray-100/80 dark:bg-gray-700/80 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full flex items-center justify-center text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-all duration-200 backdrop-blur-sm group z-20","aria-label":"Close popup",children:(0,v.jsx)("svg",{className:"w-5 h-5 transform group-hover:rotate-90 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,v.jsxs)("div",{className:"relative z-10 text-center",children:[(0,v.jsxs)("div",{className:"mb-4",children:[(0,v.jsx)("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-3 shadow-lg",children:(0,v.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,v.jsxs)("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 dark:from-white dark:via-blue-200 dark:to-purple-200 bg-clip-text text-transparent mb-2",children:["Join the ",(0,v.jsx)("span",{className:"font-extrabold",children:"Innvibs"})," Revolution!"]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("p",{className:"text-base sm:text-lg font-semibold text-blue-600 dark:text-blue-400",children:"\u2728 Ignite Innovation \u2022 Vibrate with Ideas \u2728"}),(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:"Where curiosity meets breakthrough insights"})]})]}),(0,v.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl border border-blue-200/50 dark:border-blue-700/50",children:[(0,v.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base leading-relaxed",children:["\ud83d\ude80 ",(0,v.jsx)("strong",{children:"Don't miss out!"})," Join ",(0,v.jsx)("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"50,000+"})," innovators who get exclusive insights, trending topics, and game-changing ideas delivered straight to their inbox."]}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-4 text-xs sm:text-sm",children:[(0,v.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"})," Weekly insights"]}),(0,v.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"})," Exclusive content"]}),(0,v.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"})," Early access"]}),(0,v.jsxs)("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[(0,v.jsx)("span",{className:"text-green-500 mr-2",children:"\u2713"})," No spam, ever"]})]})]}),(0,v.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(""),u(!0);if(!n||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return d("Please enter a valid email address."),void u(!1);try{const e=await(0,l._6)(n);e&&e.subscriberId&&((0,i._o)(e.subscriberId),window.dataLayer&&window.dataLayer.push({event:"new_subscriber",subscription_source:"timed_popup"})),d(e.msg||"\ud83c\udf89 Welcome to the Innvibs community!"),x(!0),s&&s(),setTimeout(()=>{r&&r()},2e3)}catch(t){d(t.message||"Oops! Something went wrong. Please try again."),x(!1)}finally{u(!1)}},className:"space-y-4",children:[(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,v.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,v.jsx)("input",{type:"email",id:"email",name:"email",value:n,onChange:e=>o(e.target.value),placeholder:"Enter your email to unlock insights",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 dark:bg-gray-700 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm sm:text-base transition-all duration-200",required:!0,disabled:m||g})]}),(0,v.jsx)("button",{type:"submit",className:"w-full py-3 px-6 rounded-xl font-bold text-white text-base sm:text-lg transition-all duration-300 transform ".concat(m?"bg-gradient-to-r from-gray-400 to-gray-500 cursor-not-allowed":g?"bg-gradient-to-r from-green-500 to-green-600 scale-105":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 hover:scale-105 hover:shadow-xl active:scale-95"," shadow-lg"),disabled:m||g,children:m?(0,v.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,v.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,v.jsx)("span",{children:"Joining..."})]}):g?(0,v.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,v.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,v.jsx)("span",{children:"Welcome! \ud83c\udf89"})]}):(0,v.jsx)("span",{children:"\ud83d\ude80 Join Innvibs - It's Free!"})})]}),c&&(0,v.jsx)("div",{className:"mt-4 p-3 rounded-lg text-center font-medium text-sm transition-all duration-300 ".concat(g?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-700":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-700"),children:c}),(0,v.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,v.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"\ud83d\udd12 Your privacy is sacred. Unsubscribe anytime with one click."})})]})]})}):null},w=(e,t,r)=>{const a=t["".concat(e,"_").concat(r)];return a||(t["".concat(e,"_en")]?t["".concat(e,"_en")]:t[e]||"")},j=a.lazy(()=>r.e(432).then(r.bind(r,4432))),f=e=>{var t,r,s,n,o;let{blog:i,isSubscribed:l,setIsSubscribed:c,showGatedPopup:d,setShowGatedPopup:m,showTimedPopup:f,setShowTimedPopup:k,onTimedPopupSuccess:N,handleTrackComment:S,getShareCount:I,currentLang:C}=e;const L=w("title",i,C),_=w("content",i,C),P=p.xI.parse(_),T=x.A.sanitize(P),A=i.image&&""!==i.image.trim()?i.image.trim():"https://placehold.co/800x400/666/fff?text=No+Image",E=(z=L)?z.replace(/\b(image|photo|picture)\b/gi,"").replace(/\s\s+/g," ").trim():"";var z;const M=document.createElement("div");M.innerHTML=p.xI.parse(_);const W=(M.textContent||M.innerText||"").substring(0,155).trim()+"...";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(g.m,{children:[(0,v.jsx)("title",{children:"".concat(L," - Innvibs | Innovation & Ideas Hub")}),(0,v.jsx)("meta",{name:"description",content:W}),(0,v.jsx)("meta",{name:"keywords",content:"".concat((null===(t=i.tags)||void 0===t?void 0:t.join(", "))||"",", innvibs, innovation, technology, ideas")}),(0,v.jsx)("meta",{name:"author",content:"Innvibs"}),(0,v.jsx)("meta",{property:"og:type",content:"article"}),(0,v.jsx)("meta",{property:"og:site_name",content:"Innvibs"}),(0,v.jsx)("meta",{property:"og:title",content:"".concat(L," | Innvibs")}),(0,v.jsx)("meta",{property:"og:description",content:W}),(0,v.jsx)("meta",{property:"og:image",content:A}),(0,v.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,v.jsx)("meta",{property:"og:image:height",content:"630"}),(0,v.jsx)("meta",{property:"og:image:alt",content:E}),(0,v.jsx)("meta",{property:"og:url",content:"https://www.innvibs.com/blog/".concat(i.slug)}),(0,v.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,v.jsx)("meta",{property:"article:published_time",content:i.date}),(0,v.jsx)("meta",{property:"article:author",content:"Innvibs Team"}),(0,v.jsx)("meta",{property:"article:section",content:i.category||"Technology"}),null===(r=i.tags)||void 0===r?void 0:r.map(e=>(0,v.jsx)("meta",{property:"article:tag",content:e},e)),(0,v.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,v.jsx)("meta",{name:"twitter:site",content:"@innvibs"})," ",(0,v.jsx)("meta",{name:"twitter:creator",content:"@innvibs"}),(0,v.jsx)("meta",{name:"twitter:title",content:"".concat(L," | Innvibs")}),(0,v.jsx)("meta",{name:"twitter:description",content:W}),(0,v.jsx)("meta",{name:"twitter:image",content:A}),(0,v.jsx)("meta",{name:"twitter:image:alt",content:E}),(0,v.jsx)("meta",{property:"og:image:type",content:"image/jpeg"}),(0,v.jsx)("meta",{property:"og:image:secure_url",content:A}),(0,v.jsx)("link",{rel:"canonical",href:"https://www.innvibs.com/blog/".concat(i.slug)}),(0,v.jsx)("meta",{name:"robots",content:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"}),(0,v.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:L,description:W,image:{"@type":"ImageObject",url:A,width:1200,height:630},author:{"@type":"Organization",name:"Innvibs"},publisher:{"@type":"Organization",name:"Innvibs",logo:{"@type":"ImageObject",url:"https://www.innvibs.com/logo.png"}},datePublished:i.date,dateModified:i.updatedAt||i.date,mainEntityOfPage:{"@type":"WebPage","@id":"https://www.innvibs.com/blog/".concat(i.slug)},keywords:(null===(s=i.tags)||void 0===s?void 0:s.join(", "))||"",articleSection:i.category||"Technology",url:"https://www.innvibs.com/blog/".concat(i.slug)})})]}),(0,v.jsxs)("article",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-900 rounded-lg shadow-xl p-4 sm:p-6 md:p-8 mt-4 md:mt-8 mb-8 relative",children:[(0,v.jsx)("div",{className:"w-full h-55 flex items-center justify-center bg-gray-100",children:(0,v.jsx)("img",{src:A,alt:E,className:"w-full h-auto object-contain rounded-lg",loading:"lazy"})}),(0,v.jsx)("div",{className:"mb-3 md:mb-4",children:(0,v.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-5xl font-semibold text-gray-900 dark:text-white leading-tight",style:{fontFamily:"Arial, sans-serif"},children:L})}),(0,v.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 items-center text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-6 md:mb-8",children:[(0,v.jsxs)("span",{children:["Published on: ",i.date?new Date(i.date).toLocaleDateString():"Invalid Date"]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,v.jsx)("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.562 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.865.802V10.333z"})}),i.likes||0]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,v.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.08-3.242A8.877 8.877 0 012 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM4.72 14.48A6.879 6.879 0 008 15c3.314 0 6-2.686 6-6s-2.686-6-6-6a6.879 6.879 0 00-3.28.52l.995 2.985A.5.5 0 016 7h.5a.5.5 0 01.5.5v.5a.5.5 0 01-.5.5h-.5a.5.5 0 01-.5-.5v-.5a.5.5 0 01.3-.464L4.72 14.48z",clipRule:"evenodd"})}),(null===(n=i.comments)||void 0===n?void 0:n.length)||0]}),(0,v.jsxs)("span",{className:"flex items-center gap-1",children:[(0,v.jsxs)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),i.views||0]}),(0,v.jsx)(h.A,{blogId:i._id,blogSlug:i.slug,title:i.title,url:"undefined"!==typeof window?"".concat(window.location.origin,"/blog/").concat(i.slug):"",initialShareCount:I(i._id)})]}),(0,v.jsx)("div",{className:"relative",children:(0,v.jsx)("div",{className:"prose prose-base sm:prose-lg lg:prose-xl dark:prose-invert max-w-none mb-6 md:mb-8 prose-img:rounded-xl prose-img:max-h-[400px] prose-img:mx-auto",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:T}})})}),d&&(0,v.jsx)(y,{showPopup:d,onClose:()=>m(!1),onSubscribeSuccess:()=>{c(!0),m(!1)}}),f&&!l&&(0,v.jsx)(y,{showPopup:f,onClose:()=>k(!1),onSubscribeSuccess:N}),(0,v.jsx)("div",{className:"flex flex-wrap gap-2 mb-6 md:mb-8",children:null===(o=i.tags)||void 0===o?void 0:o.map(e=>(0,v.jsxs)(u.N_,{to:"/tag/".concat(encodeURIComponent(e.toLowerCase())),className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-3 py-1 text-sm font-medium rounded-full hover:bg-blue-200 dark:hover:bg-blue-600 hover:text-blue-700 dark:hover:text-blue-100 transition-colors cursor-pointer",children:["#",e]},e))}),(0,v.jsxs)("div",{className:"border-t dark:border-gray-700 pt-6",children:[(0,v.jsx)("div",{className:"mb-8",children:l?(0,v.jsx)(b.A,{blogId:i._id,initialLikes:i.likes}):(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Subscribe to like this post!"})}),(0,v.jsx)(a.Suspense,{fallback:(0,v.jsx)("div",{className:"text-center py-10 dark:text-gray-400",children:"Loading comments..."}),children:l?(0,v.jsx)(j,{blogId:i._id,initialComments:i.comments,onCommentSuccess:S}):(0,v.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Subscribe to view and post comments!"})})]})]})]})},k=e=>{let{blog:t}=e;const{slug:r}=(0,s.g)(),{i18n:c}=(0,o.Bd)(),{blog:d,loading:u,error:g}=m(r,t),[x,p]=(0,a.useState)((0,i.We)()),[b,h]=(0,a.useState)(!1),[y,w]=(0,a.useState)(!1),{getShareCount:j,setInitialShareCount:k}=(0,n.R)(),N=(0,a.useRef)(null),S=(0,a.useRef)(0),I=(0,a.useRef)(Date.now()),C=(0,a.useRef)(null),L=(0,a.useCallback)(async(e,t,r)=>{if(t&&e&&!(r<30))try{await(0,l.Xu)(t,e,Math.round(r))}catch(a){console.error("Failed to track read behavior:",a)}},[]),_=(0,a.useCallback)(()=>{const e=(0,i.ak)();e&&null!==d&&void 0!==d&&d._id&&(0,l.ew)(e,d._id).then(()=>console.log("Comment tracked for blog ".concat(d._id))).catch(e=>console.error("Failed to track comment:",e))},[d]);(0,a.useEffect)(()=>(x||!d||y||(C.current=setTimeout(()=>{w(!0)},1e4)),()=>{C.current&&(clearTimeout(C.current),C.current=null)}),[d,x,y]);const P=(0,a.useCallback)(()=>{p(!0),w(!1),C.current&&(clearTimeout(C.current),C.current=null)},[]);return(0,a.useEffect)(()=>{null!==d&&void 0!==d&&d._id&&void 0!==d.shareCount&&k(d._id,d.shareCount)},[d,k]),(0,a.useEffect)(()=>{if(!d||!N.current||!(0,i.We)())return;const e=setInterval(()=>{const e=Date.now();"visible"===document.visibilityState&&(S.current+=e-I.current),I.current=e},1e3);return()=>clearInterval(e)},[d]),(0,a.useEffect)(()=>{const e=()=>{const e=(0,i.ak)(),t=Math.round(S.current/1e3);e&&N.current&&t>0&&L(null===d||void 0===d?void 0:d._id,e,t)};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[d,L]),(0,a.useEffect)(()=>{const e=()=>{const e=x,t=(0,i.We)();p(t),!e&&t&&(h(!1),w(!1),C.current&&(clearTimeout(C.current),C.current=null))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[x]),u?(0,v.jsx)("div",{className:"text-center mt-20 p-4 dark:text-gray-300",children:"Loading post..."}):g?(0,v.jsx)("div",{className:"text-center mt-20 p-4 text-red-500",children:g}):d?(0,v.jsx)(f,{blog:d,isSubscribed:x,setIsSubscribed:p,showGatedPopup:b,setShowGatedPopup:h,showTimedPopup:y,setShowTimedPopup:w,onTimedPopupSuccess:P,handleTrackComment:_,getShareCount:j,currentLang:c.language}):(0,v.jsx)("div",{className:"text-center mt-20 p-4 dark:text-gray-300",children:"Blog post not found."})},N=()=>(0,v.jsx)(k,{})}}]);
//# sourceMappingURL=324.28ecf1e5.chunk.js.map