"use strict";exports.id=840,exports.ids=[840],exports.modules={9840:(e,r,s)=>{s.r(r),s.d(r,{default:()=>d});var t=s(326),a=s(7577),o=s(1207);let n=({onClose:e})=>{let[r,s]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[n,d]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)({current:!1,new:!1,confirm:!1}),x=e=>{s({...r,[e.target.name]:e.target.value})},m=async s=>{if(s.preventDefault(),d(null),r.newPassword!==r.confirmPassword){d({type:"error",text:"New passwords do not match. Please try again."});return}if(r.newPassword.length<6){d({type:"error",text:"New password must be at least 6 characters long."});return}l(!0);try{let s={currentPassword:r.currentPassword,newPassword:r.newPassword,confirmPassword:r.confirmPassword},t=await o.Ew.changeOperatorPassword(s);d({type:"success",text:t.data.message||"Updated successfully!"}),setTimeout(()=>{e()},2e3)}catch(e){d({type:"error",text:e.response?.data?.message||"Update failed. Please try again."})}finally{l(!1)}},h=e=>{u(r=>({...r,[e]:!r[e]}))};return t.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 flex justify-center items-center z-50 transition-opacity duration-300",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg transform transition-all duration-300 animate-fade-in-up",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl",children:t.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Change Password"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Update your account password."})]})]}),t.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-white",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:m,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Current Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:c.current?"text":"password",name:"currentPassword",value:r.currentPassword,onChange:x,required:!0,className:"w-full pl-4 pr-12 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"button",onClick:()=>h("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.current?t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242"})}):(0,t.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["New Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:c.new?"text":"password",name:"newPassword",value:r.newPassword,onChange:x,required:!0,className:"w-full pl-4 pr-12 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"button",onClick:()=>h("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.new?t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242"})}):(0,t.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Confirm New Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:c.confirm?"text":"password",name:"confirmPassword",value:r.confirmPassword,onChange:x,required:!0,className:"w-full pl-4 pr-12 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{type:"button",onClick:()=>h("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c.confirm?t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242"})}):(0,t.jsxs)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),n&&t.jsx("div",{className:`flex items-center p-4 rounded-lg ${"success"===n.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:n.text}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[t.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border rounded-lg text-sm font-medium",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 border rounded-lg text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 disabled:opacity-50 flex items-center",children:i?"Updating...":"Change Password"})]})]})]})})};function d(){return t.jsx(n,{onClose:()=>{window.history.back()}})}}};